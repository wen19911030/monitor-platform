{"version":3,"sources":["webpack:///./node_modules/core-js/library/modules/es6.array.is-array.js","webpack:///./src/views/bankcard-info.vue?e492","webpack:///./src/views/bankcard-info.vue?d47f","webpack:///./src/views/bankcard-info.vue?fc82","webpack:///src/views/bankcard-info.vue","webpack:///./src/views/bankcard-info.vue","webpack:///./src/assets/js/fields.js","webpack:///./node_modules/core-js/library/modules/_is-array.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/array/is-array.js","webpack:///./node_modules/core-js/library/fn/array/is-array.js"],"names":["$export","__webpack_require__","S","isArray","2e3c","t","a","n","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_bankcard_info_vue_vue_type_style_index_0_id_8e10a090_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","778e","r","e","i","o","s","views_bankcard_infovue_type_script_lang_js_","name","data","username","idCard","bankcardNo","mobile","verificationCode","bankList","showBankList","isLink","isSending","verification","sendCount","total","computed","bankcard","this","$store","state","codeText","concat","disabled","bankcardCode","watch","handler","newV","immediate","getBankInfo","test","created","_this","Object","api","c","then","result","is_array_default","map","item","code","bankcardName","fields","methods","saveFunc","_this2","q","commit","$router","go","catch","err","_this3","arguments","length","timer","clearTimeout","setTimeout","b","logo","popUpFunc","selectBank","bank","sendCode","_this4","startCountDown","$toast","countDown","_this5","component","componentNormalizer","_vm","_h","$createElement","_c","_self","staticClass","_m","attrs","label","maxlength","placeholder","clearable","model","value","callback","$$v","expression","title","is-link","on","click","$event","stopPropagation","preventDefault","src","alt","_v","_s","_e","type","input-align","class","unactive","slot","position","_l","key","__webpack_exports__","default","d","banks","ABC","CCB","ICBC","BOC","BOCOM","CNCB","CEB","GDB","PAB","CIB","SPDB","BOS","BCCB","CMB","PSBC","HXB","CMBC","BOJS","9003","cof","module","exports","Array","arg","dd9d","f410"],"mappings":"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","file":"js/chunk-0bee5a57.681bf0b9.js","sourcesContent":["// 22.1.2.2 / 15.4.3.2 Array.isArray(arg)\nvar $export = require('./_export');\n\n$export($export.S, 'Array', { isArray: require('./_is-array') });\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./bankcard-info.vue?vue&type=style&index=0&id=8e10a090&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./bankcard-info.vue?vue&type=style&index=0&id=8e10a090&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"panel bankcard-info\"},[_vm._m(0),_c('div',{staticClass:\"panel-body\"},[_c('van-field',{attrs:{\"label\":\"持卡人\",\"maxlength\":\"18\",\"placeholder\":\"请输入姓名\",\"clearable\":\"\"},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}}),_c('van-field',{attrs:{\"label\":\"身份证\",\"maxlength\":\"18\",\"placeholder\":\"请输入身份证号\",\"clearable\":\"\"},model:{value:(_vm.idCard),callback:function ($$v) {_vm.idCard=$$v},expression:\"idCard\"}}),_c('van-field',{attrs:{\"label\":\"银行卡号\",\"maxlength\":\"19\",\"placeholder\":\"请输入银行卡号\",\"clearable\":\"\"},model:{value:(_vm.bankcardNo),callback:function ($$v) {_vm.bankcardNo=$$v},expression:\"bankcardNo\"}}),_c('van-cell',{attrs:{\"title\":\"开户行\",\"is-link\":_vm.isLink},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.popUpFunc($event)}}},[(_vm.bankcard.bankcardCode)?_c('div',{staticClass:\"bank\"},[_c('img',{attrs:{\"src\":_vm.bankcard.logo,\"alt\":\"\"}}),_c('span',[_vm._v(_vm._s(_vm.bankcard.bankcardName))])]):_vm._e(),(!_vm.bankcard.bankcardCode && _vm.isLink)?_c('span',{staticClass:\"placeholder\"},[_vm._v(\"请选择\")]):_vm._e()]),_c('van-field',{attrs:{\"label\":\"银行预留手机号\",\"placeholder\":\"请输入手机号\",\"maxlength\":\"11\",\"clearable\":\"\"},model:{value:(_vm.mobile),callback:function ($$v) {_vm.mobile=$$v},expression:\"mobile\"}}),_c('van-field',{attrs:{\"type\":\"number\",\"label\":\"验证码\",\"placeholder\":\"请输入验证码\",\"input-align\":\"right\",\"maxlength\":\"4\"},model:{value:(_vm.verificationCode),callback:function ($$v) {_vm.verificationCode=$$v},expression:\"verificationCode\"}},[_c('span',{staticClass:\"captcha-btn mid-flex\",class:{unactive: !_vm.verification || _vm.isSending},attrs:{\"slot\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.sendCode($event)}},slot:\"button\"},[_vm._v(_vm._s(_vm.codeText))])]),_c('van-button',{staticClass:\"primary-btn\",attrs:{\"disabled\":_vm.disabled,\"type\":\"primary\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.saveFunc($event)}}},[_vm._v(\"保存\")])],1),_c('van-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.showBankList),callback:function ($$v) {_vm.showBankList=$$v},expression:\"showBankList\"}},[_c('ul',{staticClass:\"banks\"},_vm._l((_vm.bankList),function(item){return _c('li',{key:item.code,staticClass:\"flex-wrap\",on:{\"click\":function($event){return _vm.selectBank(item)}}},[_c('img',{attrs:{\"src\":item.logo,\"alt\":\"\"}}),_c('span',[_vm._v(_vm._s(item.bankcardName))])])}),0)])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"panel-title\"},[_c('h3',[_vm._v(\"添加储蓄卡\")])])}]\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./bankcard-info.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./bankcard-info.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"panel bankcard-info\">\n    <div class=\"panel-title\">\n      <h3>添加储蓄卡</h3>\n    </div>\n    <div class=\"panel-body\">\n      <van-field v-model=\"username\" label=\"持卡人\" maxlength=\"18\" placeholder=\"请输入姓名\" clearable />\n      <van-field v-model=\"idCard\" label=\"身份证\" maxlength=\"18\" placeholder=\"请输入身份证号\" clearable />\n      <van-field v-model=\"bankcardNo\" label=\"银行卡号\" maxlength=\"19\" placeholder=\"请输入银行卡号\" clearable />\n      <van-cell title=\"开户行\" :is-link=\"isLink\" @click.stop.prevent=\"popUpFunc\">\n        <div class=\"bank\" v-if=\"bankcard.bankcardCode\">\n          <img :src=\"bankcard.logo\" alt>\n          <span>{{bankcard.bankcardName}}</span>\n        </div>\n        <span class=\"placeholder\" v-if=\"!bankcard.bankcardCode && isLink\">请选择</span>\n      </van-cell>\n      <van-field v-model=\"mobile\" label=\"银行预留手机号\" placeholder=\"请输入手机号\" maxlength=\"11\" clearable />\n      <van-field type=\"number\" v-model=\"verificationCode\" label=\"验证码\" placeholder=\"请输入验证码\" input-align=\"right\" maxlength=\"4\">\n        <span slot=\"button\" class=\"captcha-btn mid-flex\" @click.stop.prevent=\"sendCode\" :class=\"{unactive: !verification || isSending}\">{{codeText}}</span>\n      </van-field>\n      <van-button class=\"primary-btn\" :disabled=\"disabled\" type=\"primary\" @click.stop.prevent=\"saveFunc\">保存</van-button>\n    </div>\n    <van-popup v-model=\"showBankList\" position=\"bottom\">\n      <ul class=\"banks\">\n        <li class=\"flex-wrap\" v-for=\"item in bankList\" :key=\"item.code\" @click=\"selectBank(item)\">\n          <img :src=\"item.logo\" alt=\"\">\n          <span>{{item.bankcardName}}</span>\n        </li>\n      </ul>\n    </van-popup>\n  </div>\n</template>\n\n<script>\nimport {\n  getCaptcha,\n  validateBankCard,\n  checkBank,\n  getAllBinks,\n} from '@/api/index.js';\nimport { banks } from '@/assets/js/fields.js';\n\nexport default {\n  name: 'bankcard-info',\n  data() {\n    return {\n      username: '',\n      idCard: '',\n      bankcardNo: '',\n      mobile: '',\n      verificationCode: '',\n      bankList: [],\n      showBankList: false,\n      isLink: false,\n      isSending: false,\n      verification: false,\n      sendCount: 0,\n      total: 60,\n    };\n  },\n  computed: {\n    bankcard() {\n      return this.$store.state.bankcard || {};\n    },\n    codeText() {\n      if (this.sendCount === 0) {\n        return '发送验证码';\n      }\n      if (!this.isSending) {\n        return '重新获取';\n      }\n      return `${this.total}s`;\n    },\n    disabled() {\n      return !(\n        this.username\n        && this.idCard\n        && this.bankcard.bankcardCode\n        && this.bankcardNo\n        && this.mobile\n        && this.verificationCode\n      );\n    },\n  },\n  watch: {\n    bankcard: {\n      handler(newV) {\n        if (newV.mobile) {\n          this.username = newV.username;\n          this.idCard = newV.idCard;\n          this.bankcardNo = newV.bankcardNo;\n          this.mobile = newV.mobile;\n        }\n      },\n      immediate: true,\n    },\n    bankcardNo(newV) {\n      this.getBankInfo(newV);\n    },\n    mobile: {\n      handler(newV) {\n        const reg = /^1(3|4|5|7|8)\\d{9}$/;\n        const reg1 = /^\\d{3}\\*{4}\\d{4}$/;\n        if (reg.test(newV) || reg1.test(newV)) {\n          this.verification = true;\n        }\n      },\n      immediate: true,\n    },\n  },\n  created() {\n    getAllBinks().then((result) => {\n      if (Array.isArray(result)) {\n        this.bankList = result.map((item) => {\n          const { code } = item;\n          const bankcardName = banks[code] || code;\n          item.bankcardName = bankcardName;\n          return item;\n        });\n      }\n    });\n  },\n  methods: {\n    saveFunc() {\n      validateBankCard(\n        this.username,\n        this.idCard,\n        this.bankcardNo,\n        this.bankcard.bankcardCode,\n        this.mobile,\n        this.verificationCode,\n      )\n        .then((result) => {\n          console.log(result);\n          this.$store.commit('UPDATE_BANKCARD', {\n            username: this.username,\n            idCard: this.idCard,\n            bankcardNo: this.bankcardNo,\n            mobile: this.mobile,\n          });\n          this.$router.go(-1);\n        })\n        .catch(err => console.log(err));\n    },\n    getBankInfo(newV = '') {\n      if (this.timer) {\n        clearTimeout(this.timer);\n      }\n      this.timer = setTimeout(() => {\n        console.log(newV);\n        checkBank(this.bankcardNo)\n          .then((result) => {\n            if (result) {\n              this.isLink = false;\n              const { code } = result;\n              const bankcardName = banks[code] || code;\n              this.$store.commit('UPDATE_BANKCARD', {\n                bankcardCode: result.code,\n                bankcardName,\n                logo: result.logo,\n              });\n            } else if (newV.length >= 15) {\n              this.isLink = true;\n            }\n          })\n          .catch((err) => {\n            console.error(err);\n            this.isLink = true;\n          });\n      }, 300);\n    },\n    popUpFunc() {\n      if (this.isLink) {\n        this.showBankList = true;\n      }\n    },\n    selectBank(bank) {\n      this.$store.commit('UPDATE_BANKCARD', {\n        bankcardCode: bank.code,\n        bankcardName: bank.bankcardName,\n        logo: bank.logo,\n      });\n      this.showBankList = false;\n    },\n    sendCode() {\n      if (this.isSending) {\n        return;\n      }\n      const reg = /^1(3|4|5|7|8)\\d{9}$/;\n      const reg1 = /^\\d{3}\\*{4}\\d{4}$/;\n      if (reg.test(this.mobile) || reg1.test(this.mobile)) {\n        this.isSending = true;\n        this.sendCount += 1;\n        this.startCountDown();\n        getCaptcha(this.mobile, '200112')\n          .then(() => {\n            this.$toast('短信发送成功');\n          })\n          .catch(err => console.log(err));\n      } else {\n        this.$toast('请输入正确的手机号');\n      }\n    },\n    startCountDown() {\n      if (this.timer) {\n        clearTimeout(this.timer);\n      }\n      this.total = 60;\n      this.countDown();\n    },\n    countDown() {\n      this.timer = setTimeout(() => {\n        if (this.total > 0) {\n          this.total -= 1;\n          this.countDown();\n        } else {\n          this.isSending = false;\n        }\n      }, 1000);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.panel {\n  min-height: 100vh;\n  background: #fff;\n}\n.panel-title {\n  padding: 30px 15px;\n  h3 {\n    font-size: 18px;\n    font-family: PingFangSC-Medium;\n    font-weight: 500;\n    color: rgba(51, 51, 51, 1);\n  }\n}\n.panel-body {\n  padding-bottom: 74px;\n  background: #fff;\n  .primary-btn {\n    margin-top: 64px;\n  }\n  .captcha-btn {\n    width: 72px;\n    height: 26px;\n    border-radius: 14px;\n    border: 1px solid;\n    font-size: 10px;\n    font-family: PingFangSC-Medium;\n    font-weight: 500;\n    color: #36a5dc;\n    &.unactive {\n      color: rgba(204, 204, 204, 1);\n    }\n  }\n}\n.van-button--primary {\n  display: block;\n  width: 240px;\n  height: 44px;\n  margin: 20px auto 0;\n  border: none;\n  background: linear-gradient(\n    to bottom right,\n    $gradientStart 0%,\n    $gradientEnd 100%\n  );\n  border-radius: 22px;\n  font-size: 16px;\n  font-family: PingFangSC-Regular;\n  font-weight: 400;\n  color: rgba(255, 255, 255, 1);\n  &.van-button--disabled {\n    opacity: 1;\n    background: #e0e0e0;\n  }\n}\n.bank {\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  img {\n    width: 22px;\n    height: 22px;\n    margin-right: 8px;\n  }\n  span {\n    font-size: 14px;\n    font-family: PingFangSC-Regular;\n    font-weight: 400;\n    color: rgba(51, 51, 51, 1);\n  }\n}\nul {\n  padding: 0 10px;\n  height: 400px;\n  li {\n    height: 54px;\n    align-items: center;\n    img {\n      display: block;\n      width: 18px;\n      height: 18px;\n      margin-right: 17px;\n    }\n    span {\n      font-family: PingFangSC-Regular;\n      color: rgba(51, 51, 51, 1);\n    }\n  }\n}\n</style>\n","import { render, staticRenderFns } from \"./bankcard-info.vue?vue&type=template&id=8e10a090&scoped=true&\"\nimport script from \"./bankcard-info.vue?vue&type=script&lang=js&\"\nexport * from \"./bankcard-info.vue?vue&type=script&lang=js&\"\nimport style0 from \"./bankcard-info.vue?vue&type=style&index=0&id=8e10a090&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8e10a090\",\n  null\n  \n)\n\nexport default component.exports","export const banks = {\n  ABC: '中国农业银行',\n  CCB: '中国建设银行',\n  ICBC: '中国工商银行',\n  BOC: '中国银行',\n  BOCOM: '交通银行',\n  CNCB: '中信银行',\n  CEB: '光大银行',\n  GDB: '广发银行',\n  PAB: '平安银行',\n  CIB: '兴业银行',\n  SPDB: '浦发银行',\n  BOS: '上海银行',\n  BCCB: '北京银行',\n  CMB: '招商银行',\n  PSBC: '邮政储蓄',\n  HXB: '华夏银行',\n  CMBC: '民生银行',\n  BOJS: '江苏银行',\n};\n\nexport const a = [];\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","module.exports = require(\"core-js/library/fn/array/is-array\");","require('../../modules/es6.array.is-array');\nmodule.exports = require('../../modules/_core').Array.isArray;\n"],"sourceRoot":""}